<!doctype html>
<html>
  <head>
  	<link rel="stylesheet" type="text/css" href="https://www.lucidity.ninja/main.css">
	<link rel="stylesheet" type="text/css" href="https://www.lucidity.ninja/popup.css">
	<script src='/popup.js'></script>
	<title>popup</title>
  </head>

  <body>
  	<div id='container'>
  		<h3><center>Lucidity</center></h3>
  		<div class='buttoncontainer'>
		  <button id='btodo' class="tablink" page='todo' color='red'>Todos</button>
			<!-- <button class="tablink" onclick="openPage('rewards', this, 'red')" id="defaultOpen">Rewards</button>
			<button class="tablink" onclick="openPage('settings', this, 'red')">Settings</button> -->
		</div>

		<div id="todo" class="tabcontent">
		  <div>
				<input type="text" id="taskInput" placeholder="task...">
				<span onclick="newElement()" id="addBtn">Add</span>
			</div>
			<div id='container'>
				<button id='allButton' class='lucid-text-h3'>All</button>
				<button id='activeButton' class='lucid-text-h3'>Active</button>
				<button id='completedButton' class='lucid-text-h3'>Done</button>
			</div>

			<ul id="todoList">
				<li class="">wdld<span class="close">×</span></li>
				<li class="">wdwe<span class="close">×</span></li>
				<li class="">drwrd<span class="close">×</span></li>
				<li class="">wdwedweld<span class="close">×</span></li>
			</ul>
		</div>

		<div id="rewards" class="tabcontent">
		  <div id='container'>
				<div>
					<h2>Rewards</h2>
				</div>
				<div>
					<i class="fas fa-lock fa-1x"></i>
					<span class='lucid-text-body-1'> Cash In <input value='32'> tokens <br><br><span id='tokenBalance'>343476 tokens left</span> </span>
				</div>
				<div>
					<span class='lucid-text-body-1'>
						Allot
						<select>
						  <option value="10">10</option>
						  <option value="20">20</option>
						  <option value="30">30</option>
						  <option value="60">60</option>
						</select>
						Minutes To <input value='jared'>
					</span>
				</div>
				<div>
					<span class='lucid-text-body-1'>
						If <input value='jared'> completes the obligation, they get <input value='87823472'> of tokens

					</span>
				</div>
				<div>
					1 token = <input value='90823840'> minutes
				</div>
			</div>
		</div>

		<div id="settings" class="tabcontent">
		  <h3>Settings</h3>
		  <span></span>
		  <br>
		  <p> Educational Search
		  	<label class="switch">
			  <input type="checkbox">
			  <span class="slider round"></span>
			</label>
		  </p>
		  <div id='bottom'>
				<div>
					<h4>Blacklist</h4>
					<ul id='blacklist'>
					</ul>

				</div>

				<div>
					<h4>Whitelist</h4>
					<ul id='whitelist'>
					</ul>
				</div>

			</div>
			<p> Tool On/Off
		  	<label class="switch">
			  <input type="checkbox">
			  <span class="slider round"></span>
			</label>
		  </p>
		</div>

	</div>
	<script>
		function openPage(pageName,elmnt,color) {
			  var i, tabcontent, tablinks;
			  tabcontent = document.getElementsByClassName("tabcontent");
			  for (i = 0; i < tabcontent.length; i++) {
			    tabcontent[i].style.display = "none";
			  }
			  tablinks = document.getElementsByClassName("tablink");
			  for (i = 0; i < tablinks.length; i++) {
			    tablinks[i].style.backgroundColor = "";
			  }
			  document.getElementById(pageName).style.display = "block";
			  elmnt.style.backgroundColor = color;
			}

			// Get the element with id="defaultOpen" and click on it
			document.getElementById("defaultOpen").click();function f(){
			}

      document.getElementById('btodo').addEventListener('click', function() {
          var color = this.getAttribute('color');
          var page = this.getAttribute('color');
          openPage(page, this, color);
      })
	</script>
	<script>
		//globals
			var myNodelist = document.getElementsByTagName("LI");
			var list = document.querySelector('ul');
			var allButton = document.querySelector('#allButton');
			var activeButton = document.querySelector('#activeButton');
			var completedButton = document.querySelector('#completedButton');

			function hideActiveTasks(){
				// if() < go thru each task using a loop n hide the non checked ones
				showAllTasks()
				var i;
				for (i = 0; i < myNodelist.length; i++) {
				  if(myNodelist[i].className != 'checked'){
				  	myNodelist[i].style.display = 'none';
				  }
				}
			}

			function hideCompletedTasks(){
				// if() < go thru each task using a loop n hide the checked ones
				showAllTasks()
				var i;
				for (i = 0; i < myNodelist.length; i++) {
				  if(myNodelist[i].className === 'checked'){
				  	myNodelist[i].style.display = 'none';
				  }
				}
			}

			function showAllTasks(){
				var i;
				for (i = 0; i < myNodelist.length; i++) {
				  myNodelist[i].style.display = 'block';
				}
			}

			// Create a "close" button and append it to each list item
			function addCloseButton(){
				var i;
				for (i = 0; i < myNodelist.length; i++) {
				  var span = document.createElement("SPAN");
				  var txt = document.createTextNode("\u00D7");
				  span.className = "close";
				  span.appendChild(txt);
				  myNodelist[i].appendChild(span);
				}
			}


			// Click on a close button to hide the current list item

			var close = document.getElementsByClassName("close");
			var i;
			for (i = 0; i < close.length; i++) {
			  close[i].onclick = function() {
			    var div = this.parentElement;
			    // div.style.display = "none";
			    div.remove()
			  }
			}

			// Create a new list item when clicking on the "Add" button
			function newElement() {
			  var li = document.createElement("li");
			  var inputValue = document.querySelector("#taskInput").value;
			  var t = document.createTextNode(inputValue);
			  li.appendChild(t);
			  if (inputValue === '') {
			    alert("You must write something!");
			  } else {
			    document.querySelector("#todoList").appendChild(li);
			  }
			  document.querySelector("#taskInput").value = "";

			  var span = document.createElement("SPAN");
			  var txt = document.createTextNode("\u00D7");
			  span.className = "close";
			  span.appendChild(txt);
			  li.appendChild(span);

			  for (i = 0; i < close.length; i++) {
			    close[i].onclick = function() {
			      var div = this.parentElement;
			      div.remove();
			    }
			  }
			}

			// Add a "checked" symbol when clicking on a list item
			list.addEventListener('click', function(ev) {
			  if (ev.target.tagName === 'LI') {
			    ev.target.classList.toggle('checked');
			  }
			}, false);

			allButton.addEventListener("click", showAllTasks);
			activeButton.addEventListener("click", hideCompletedTasks);
			completedButton.addEventListener("click", hideActiveTasks);
	</script>
  <script src = '/popup.js'></script>
  </body>
</html>
